2025-12-02 14:26:07.381 [info] [Perplexity Stream API] Starting stream: {
  question: 'ä½ å¥½',
  modelKey: 'sonar-reasoning',
  timeout: '1.3 åˆ†é˜',
  timeoutMs: 75000
}
2025-12-02 14:26:07.381 [info] [Perplexity Stream API] Starting chunk iteration
2025-12-02 14:26:07.381 [info] ğŸ› [PERPLEXITY_STREAMING] Starting async generator: perplexityRedChamberQAStreaming {
  functionName: 'perplexityRedChamberQAStreaming',
  inputType: 'object',
  inputKeys: [
    'userQuestion',
    'modelKey',
    'reasoningEffort',
    'questionContext',
    'enableStreaming',
    'includeDetailedCitations',
    'showThinkingProcess',
    'temperature',
    'maxTokens',
    'selectedText',
    'chapterContext',
    'currentChapter'
  ],
  hasAsyncIterator: false
}
2025-12-02 14:26:07.383 [info] Starting Perplexity streaming QA: { question: 'ä½ å¥½', modelKey: 'sonar-reasoning' }
2025-12-02 14:26:07.383 [info] ğŸ› [PERPLEXITY_STREAMING] Function entry point reached {
  inputType: 'object',
  inputKeys: [
    'userQuestion',
    'modelKey',
    'reasoningEffort',
    'questionContext',
    'enableStreaming',
    'includeDetailedCitations',
    'showThinkingProcess',
    'temperature',
    'maxTokens',
    'selectedText',
    'chapterContext',
    'currentChapter'
  ],
  userQuestionLength: 2,
  enableStreaming: true
}
2025-12-02 14:26:07.383 [info] ğŸ› [PERPLEXITY_STREAMING] Getting Perplexity client
2025-12-02 14:26:07.384 [info] ğŸ› [PERPLEXITY_STREAMING] Client obtained {
  clientType: 'object',
  clientConstructor: 'b3',
  hasStreamingMethod: true
}
2025-12-02 14:26:07.384 [info] Client type: object
2025-12-02 14:26:07.384 [info] Client streamingCompletionRequest type: function
2025-12-02 14:26:07.389 [info] ğŸ› [PERPLEXITY_STREAMING] Calling client.streamingCompletionRequest {
  processedInputType: 'object',
  processedInputKeys: [
    'userQuestion',
    'modelKey',
    'reasoningEffort',
    'questionContext',
    'enableStreaming',
    'includeDetailedCitations',
    'showThinkingProcess',
    'temperature',
    'maxTokens',
    'selectedText',
    'chapterContext',
    'currentChapter'
  ]
}
2025-12-02 14:26:07.389 [info] ğŸ› [PERPLEXITY_STREAMING] Stream generator created {
  generatorType: 'object',
  generatorConstructor: '',
  hasAsyncIterator: true
}
2025-12-02 14:26:07.389 [info] Stream generator type: object
2025-12-02 14:26:07.389 [info] Stream generator Symbol.asyncIterator: function
2025-12-02 14:26:07.390 [info] ğŸ› [PERPLEXITY_STREAMING] Starting for-await loop on: client.streamingCompletionRequest {
  iterableSource: 'client.streamingCompletionRequest',
  iterableType: 'object',
  hasAsyncIterator: true,
  hasIterator: false,
  constructorName: ''
}
2025-12-02 14:26:07.390 [info] ğŸ› [PERPLEXITY_CLIENT] PerplexityClient.streamingCompletionRequest called { inputType: 'object', userQuestionLength: 2, enableStreaming: true }
2025-12-02 14:26:07.390 [info] ğŸ› [PERPLEXITY_CLIENT] Making HTTP request to Perplexity API (native fetch) {
  endpoint: 'https://api.perplexity.ai/chat/completions',
  requestDataKeys: [
    'model',
    'max_tokens',
    'stream',
    'temperature',
    'reasoning_effort',
    'messages'
  ],
  model: 'sonar-reasoning',
  stream: true
}
2025-12-02 14:26:08.699 [error] âŒ [Turso] Background schema initialization error: SQL_INPUT_ERROR: SQLite input error: no such column: sharedPostId (at offset 67)
2025-12-02 14:26:08.850 [info] ğŸ› [PERPLEXITY_CLIENT] Received HTTP response (native fetch) {
  statusCode: 200,
  statusText: 'OK',
  hasBody: true,
  contentType: 'text/event-stream; charset=utf-8'
}
2025-12-02 14:26:08.850 [info] ğŸ› [streamingCompletionRequest] Starting stream reading with native fetch
2025-12-02 14:26:08.851 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 740,
  preview: 'data: {"id": "69885794-8356-4402-a15c-a13b0f554cdd", "model": "sonar-reasoning", "created": 1764685568, "usage": {"prompt_tokens": 1114, "completion_t'
}
2025-12-02 14:26:08.851 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:08.851 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1369,
  preview: '1a\\u9748\\u8cc8\\u96e8\\u6751\\u98a8\\u5875\\u61f7\\u95a8\\u79c0", "url": "https://vocus.cc/article/5c541cd1fd89780001c62fb2", "date": "2025-01-31", "last_upd'
}
2025-12-02 14:26:08.851 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:08.852 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1369,
  preview: '\\u9690\\u68a6\\u5e7b\\u8bc6\\u901a\\u7075,\\u8d3e\\u96e8\\u6751\\u98ce\\u5c18\\u6000\\u95fa\\u79c0\\u201d - \\u54c1\\u9605\\u4e66\\u623f- \\u63a2\\u7d22\\u65e0\\u5c3d\\u77e5'
}
2025-12-02 14:26:08.852 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:08.852 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1369,
  preview: '541f\\u8a69\\u3001\\u559d\\u9152\\u3001\\u8cde\\u82b1\\uff0c\\u65e5\\u5b50 ...", "source": "web"}, {"title": "\\u300a\\u7ea2\\u697c\\u68a6\\u300b\\u7b2c\\u4e00\\u56de\\u'
}
2025-12-02 14:26:08.852 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:08.852 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 866,
  preview: 'd\\u63d0\\uff0c\\u547c\\u61c9\\u4e86\\u5c0f\\u8aaa\\u7b2c\\u4e00\\u56de\\u4e2d\\u7b2c\\u4e00\\u6558\\u4e8b\\u5c64\\u9762. \\u6558\\u8ff0\\u4eba ...", "source": "web"}, {"'
}
2025-12-02 14:26:08.853 [info] ğŸ› [streamingCompletionRequest] Processing 1 SSE events in batch #1
2025-12-02 14:26:08.853 [info] â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
2025-12-02 14:26:08.853 [info] â”‚ [perplexity-client] RAW CONTENT CHUNK #1
2025-12-02 14:26:08.853 [info] â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
2025-12-02 14:26:08.853 [info] â”‚ Stats: {
  length: 10,
  containsThinkOpen: true,
  containsThinkClose: false,
  currentFullContentLength: 0,
  isComplete: true
}
2025-12-02 14:26:08.853 [info] â”‚ Preview: <think>\né¦–å…ˆ
2025-12-02 14:26:08.853 [info] â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
2025-12-02 14:26:08.854 [info] [StreamProcessor] processChunk called: {
  rawChunkLength: 10,
  rawChunkPreview: '<think>\\né¦–å…ˆ',
  currentState: 'outside',
  tagDepth: 0,
  bufferLength: 0,
  thinkingBufferLength: 0
}
2025-12-02 14:26:08.854 [info] [StreamProcessor] ğŸ“¥ Processing chunk in OUTSIDE state: {
  rawChunkLength: 10,
  rawChunkPreview: '<think>\\né¦–å…ˆ',
  bufferLengthAfterAdd: 10,
  isRecursiveCall: false
}
2025-12-02 14:26:08.855 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:08.855 [info] [HYPOTHESIS B] ğŸ…±ï¸ StreamProcessor Output Analysis
2025-12-02 14:26:08.855 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:08.855 [info] [HYPOTHESIS B] Chunk Summary: {
  totalChunks: 0,
  textChunksCount: 0,
  thinkingChunksCount: 0,
  chunkTypes: []
}
2025-12-02 14:26:08.855 [info] [HYPOTHESIS B] Current State: {
  accumulatedFullContentLength: 0,
  accumulatedThinkingLength: 0,
  rawContentContainsThinkOpen: true,
  rawContentContainsThinkClose: false
}
2025-12-02 14:26:08.855 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:08.907 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1363,
  preview: 'data: {"id": "69885794-8356-4402-a15c-a13b0f554cdd", "model": "sonar-reasoning", "created": 1764685568, "usage": {"prompt_tokens": 1114, "completion_t'
}
2025-12-02 14:26:08.907 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:08.907 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1369,
  preview: '8aaa\\u7d05\\u6a13\\u5922\\uff1a\\u7b2c\\u4e00\\u56de\\uff0e\\u7504\\u58eb\\u96b1\\u5922\\u5e7b\\u8b58\\u901a\\u9748\\uff0c\\u8cc8\\u96e8\\u6751\\u98a8\\u5875\\u61f7\\u95a8\\u'
}
2025-12-02 14:26:08.907 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:08.908 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1369,
  preview: '\\u5bd3\\u8a00\\u6027\\u7684\\u53d9\\u4e8b\\u65b9\\u5f0f\\u3002\\u8fd9\\u79cd\\u53d9\\u4e8b\\u7b56\\u7565\\u4e0d\\u4ec5\\u4e3a\\u6574\\u4e2a ...", "source": "web"}, {"tit'
}
2025-12-02 14:26:08.908 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:08.908 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1369,
  preview: '\\u7684\\u8868\\u8ff0\\uff0c\\u6697\\u793a\\u4e86\\u8fd9\\u90e8\\u4f5c\\u54c1\\u865a\\u5b9e\\u76f8\\u751f\\u7684\\u53d9\\u4e8b\\u7279\\u5f81\\u3002\\u503c\\u5f97\\u6ce8\\u610f'
}
2025-12-02 14:26:08.908 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:08.909 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 318,
  preview: 'b8\\u77e5\\u8fdc ...", "source": "web"}], "object": "chat.completion.chunk", "choices": [{"index": 0, "message": {"role": "assistant", "content": "<thin'
}
2025-12-02 14:26:08.909 [info] ğŸ› [streamingCompletionRequest] Processing 1 SSE events in batch #2
2025-12-02 14:26:08.909 [info] â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
2025-12-02 14:26:08.909 [info] â”‚ [perplexity-client] RAW CONTENT CHUNK #2
2025-12-02 14:26:08.909 [info] â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
2025-12-02 14:26:08.909 [info] â”‚ Stats: {
  length: 8,
  containsThinkOpen: false,
  containsThinkClose: false,
  currentFullContentLength: 0,
  isComplete: true
}
2025-12-02 14:26:08.910 [info] â”‚ Preview: ï¼Œæˆ‘éœ€è¦ç†è§£é€™å€‹
2025-12-02 14:26:08.910 [info] â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
2025-12-02 14:26:08.910 [info] [StreamProcessor] processChunk called: {
  rawChunkLength: 8,
  rawChunkPreview: 'ï¼Œæˆ‘éœ€è¦ç†è§£é€™å€‹',
  currentState: 'inside',
  tagDepth: 1,
  bufferLength: 0,
  thinkingBufferLength: 3
}
2025-12-02 14:26:08.910 [info] [StreamProcessor] ğŸ” Sliding window check: {
  foundClosingTag: false,
  lookbackBufferLength: 11,
  lookbackBufferPreview: '\\né¦–å…ˆï¼Œæˆ‘éœ€è¦ç†è§£é€™å€‹',
  lookbackBufferEnd: '\\né¦–å…ˆï¼Œæˆ‘éœ€è¦ç†è§£é€™å€‹',
  thinkingBufferLength: 3,
  rawChunkLength: 8,
  rawChunkPreview: 'ï¼Œæˆ‘éœ€è¦ç†è§£é€™å€‹'
}
2025-12-02 14:26:08.911 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:08.911 [info] [HYPOTHESIS B] ğŸ…±ï¸ StreamProcessor Output Analysis
2025-12-02 14:26:08.911 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:08.911 [info] [HYPOTHESIS B] Chunk Summary: {
  totalChunks: 0,
  textChunksCount: 0,
  thinkingChunksCount: 0,
  chunkTypes: []
}
2025-12-02 14:26:08.911 [info] [HYPOTHESIS B] Current State: {
  accumulatedFullContentLength: 0,
  accumulatedThinkingLength: 0,
  rawContentContainsThinkOpen: false,
  rawContentContainsThinkClose: false
}
2025-12-02 14:26:08.911 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:08.970 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1363,
  preview: 'data: {"id": "69885794-8356-4402-a15c-a13b0f554cdd", "model": "sonar-reasoning", "created": 1764685568, "usage": {"prompt_tokens": 1114, "completion_t'
}
2025-12-02 14:26:08.970 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:08.970 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1369,
  preview: 'u8aaa\\u7d05\\u6a13\\u5922\\uff1a\\u7b2c\\u4e00\\u56de\\uff0e\\u7504\\u58eb\\u96b1\\u5922\\u5e7b\\u8b58\\u901a\\u9748\\uff0c\\u8cc8\\u96e8\\u6751\\u98a8\\u5875\\u61f7\\u95a8\\'
}
2025-12-02 14:26:08.971 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:08.971 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1369,
  preview: 'c\\u5bd3\\u8a00\\u6027\\u7684\\u53d9\\u4e8b\\u65b9\\u5f0f\\u3002\\u8fd9\\u79cd\\u53d9\\u4e8b\\u7b56\\u7565\\u4e0d\\u4ec5\\u4e3a\\u6574\\u4e2a ...", "source": "web"}, {"ti'
}
2025-12-02 14:26:08.971 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:08.971 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1369,
  preview: '"\\u7684\\u8868\\u8ff0\\uff0c\\u6697\\u793a\\u4e86\\u8fd9\\u90e8\\u4f5c\\u54c1\\u865a\\u5b9e\\u76f8\\u751f\\u7684\\u53d9\\u4e8b\\u7279\\u5f81\\u3002\\u503c\\u5f97\\u6ce8\\u610'
}
2025-12-02 14:26:08.972 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:08.972 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 367,
  preview: 'bb8\\u77e5\\u8fdc ...", "source": "web"}], "object": "chat.completion.chunk", "choices": [{"index": 0, "message": {"role": "assistant", "content": "<thi'
}
2025-12-02 14:26:08.972 [info] ğŸ› [streamingCompletionRequest] Processing 1 SSE events in batch #3
2025-12-02 14:26:08.972 [info] â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
2025-12-02 14:26:08.972 [info] â”‚ [perplexity-client] RAW CONTENT CHUNK #3
2025-12-02 14:26:08.972 [info] â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
2025-12-02 14:26:08.972 [info] â”‚ Stats: {
  length: 8,
  containsThinkOpen: false,
  containsThinkClose: false,
  currentFullContentLength: 0,
  isComplete: true
}
2025-12-02 14:26:08.972 [info] â”‚ Preview: å•é¡Œã€‚ç”¨æˆ¶å•çš„æ˜¯
2025-12-02 14:26:08.972 [info] â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
2025-12-02 14:26:08.972 [info] [StreamProcessor] processChunk called: {
  rawChunkLength: 8,
  rawChunkPreview: 'å•é¡Œã€‚ç”¨æˆ¶å•çš„æ˜¯',
  currentState: 'inside',
  tagDepth: 1,
  bufferLength: 0,
  thinkingBufferLength: 11
}
2025-12-02 14:26:08.972 [info] [StreamProcessor] ğŸ” Sliding window check: {
  foundClosingTag: false,
  lookbackBufferLength: 16,
  lookbackBufferPreview: 'ï¼Œæˆ‘éœ€è¦ç†è§£é€™å€‹å•é¡Œã€‚ç”¨æˆ¶å•çš„æ˜¯',
  lookbackBufferEnd: 'ï¼Œæˆ‘éœ€è¦ç†è§£é€™å€‹å•é¡Œã€‚ç”¨æˆ¶å•çš„æ˜¯',
  thinkingBufferLength: 11,
  rawChunkLength: 8,
  rawChunkPreview: 'å•é¡Œã€‚ç”¨æˆ¶å•çš„æ˜¯'
}
2025-12-02 14:26:08.972 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:08.972 [info] [HYPOTHESIS B] ğŸ…±ï¸ StreamProcessor Output Analysis
2025-12-02 14:26:08.972 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:08.973 [info] [HYPOTHESIS B] Chunk Summary: {
  totalChunks: 0,
  textChunksCount: 0,
  thinkingChunksCount: 0,
  chunkTypes: []
}
2025-12-02 14:26:08.973 [info] [HYPOTHESIS B] Current State: {
  accumulatedFullContentLength: 0,
  accumulatedThinkingLength: 0,
  rawContentContainsThinkOpen: false,
  rawContentContainsThinkClose: false
}
2025-12-02 14:26:08.973 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:09.035 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1363,
  preview: 'data: {"id": "69885794-8356-4402-a15c-a13b0f554cdd", "model": "sonar-reasoning", "created": 1764685569, "usage": {"prompt_tokens": 1114, "completion_t'
}
2025-12-02 14:26:09.035 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:09.035 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1369,
  preview: 'u8aaa\\u7d05\\u6a13\\u5922\\uff1a\\u7b2c\\u4e00\\u56de\\uff0e\\u7504\\u58eb\\u96b1\\u5922\\u5e7b\\u8b58\\u901a\\u9748\\uff0c\\u8cc8\\u96e8\\u6751\\u98a8\\u5875\\u61f7\\u95a8\\'
}
2025-12-02 14:26:09.037 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:09.037 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1369,
  preview: 'c\\u5bd3\\u8a00\\u6027\\u7684\\u53d9\\u4e8b\\u65b9\\u5f0f\\u3002\\u8fd9\\u79cd\\u53d9\\u4e8b\\u7b56\\u7565\\u4e0d\\u4ec5\\u4e3a\\u6574\\u4e2a ...", "source": "web"}, {"ti'
}
2025-12-02 14:26:09.037 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:09.037 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1369,
  preview: '"\\u7684\\u8868\\u8ff0\\uff0c\\u6697\\u793a\\u4e86\\u8fd9\\u90e8\\u4f5c\\u54c1\\u865a\\u5b9e\\u76f8\\u751f\\u7684\\u53d9\\u4e8b\\u7279\\u5f81\\u3002\\u503c\\u5f97\\u6ce8\\u610'
}
2025-12-02 14:26:09.037 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:09.037 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 375,
  preview: 'bb8\\u77e5\\u8fdc ...", "source": "web"}], "object": "chat.completion.chunk", "choices": [{"index": 0, "message": {"role": "assistant", "content": "<thi'
}
2025-12-02 14:26:09.037 [info] ğŸ› [streamingCompletionRequest] Processing 1 SSE events in batch #4
2025-12-02 14:26:09.037 [info] â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
2025-12-02 14:26:09.037 [info] â”‚ [perplexity-client] RAW CONTENT CHUNK #4
2025-12-02 14:26:09.037 [info] â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
2025-12-02 14:26:09.037 [info] â”‚ Stats: {
  length: 6,
  containsThinkOpen: false,
  containsThinkClose: false,
  currentFullContentLength: 0,
  isComplete: true
}
2025-12-02 14:26:09.037 [info] â”‚ Preview: "ä½ å¥½"ï¼Œé€™
2025-12-02 14:26:09.037 [info] â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
2025-12-02 14:26:09.037 [info] [StreamProcessor] processChunk called: {
  rawChunkLength: 6,
  rawChunkPreview: '"ä½ å¥½"ï¼Œé€™',
  currentState: 'inside',
  tagDepth: 1,
  bufferLength: 0,
  thinkingBufferLength: 19
}
2025-12-02 14:26:09.037 [info] [StreamProcessor] ğŸ” Sliding window check: {
  foundClosingTag: false,
  lookbackBufferLength: 14,
  lookbackBufferPreview: 'å•é¡Œã€‚ç”¨æˆ¶å•çš„æ˜¯"ä½ å¥½"ï¼Œé€™',
  lookbackBufferEnd: 'å•é¡Œã€‚ç”¨æˆ¶å•çš„æ˜¯"ä½ å¥½"ï¼Œé€™',
  thinkingBufferLength: 19,
  rawChunkLength: 6,
  rawChunkPreview: '"ä½ å¥½"ï¼Œé€™'
}
2025-12-02 14:26:09.037 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:09.037 [info] [HYPOTHESIS B] ğŸ…±ï¸ StreamProcessor Output Analysis
2025-12-02 14:26:09.037 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:09.037 [info] [HYPOTHESIS B] Chunk Summary: {
  totalChunks: 0,
  textChunksCount: 0,
  thinkingChunksCount: 0,
  chunkTypes: []
}
2025-12-02 14:26:09.037 [info] [HYPOTHESIS B] Current State: {
  accumulatedFullContentLength: 0,
  accumulatedThinkingLength: 0,
  rawContentContainsThinkOpen: false,
  rawContentContainsThinkClose: false
}
2025-12-02 14:26:09.037 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:09.096 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1363,
  preview: 'data: {"id": "69885794-8356-4402-a15c-a13b0f554cdd", "model": "sonar-reasoning", "created": 1764685569, "usage": {"prompt_tokens": 1114, "completion_t'
}
2025-12-02 14:26:09.096 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:09.096 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1369,
  preview: 'u8aaa\\u7d05\\u6a13\\u5922\\uff1a\\u7b2c\\u4e00\\u56de\\uff0e\\u7504\\u58eb\\u96b1\\u5922\\u5e7b\\u8b58\\u901a\\u9748\\uff0c\\u8cc8\\u96e8\\u6751\\u98a8\\u5875\\u61f7\\u95a8\\'
}
2025-12-02 14:26:09.096 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:09.097 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1369,
  preview: 'c\\u5bd3\\u8a00\\u6027\\u7684\\u53d9\\u4e8b\\u65b9\\u5f0f\\u3002\\u8fd9\\u79cd\\u53d9\\u4e8b\\u7b56\\u7565\\u4e0d\\u4ec5\\u4e3a\\u6574\\u4e2a ...", "source": "web"}, {"ti'
}
2025-12-02 14:26:09.097 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:09.100 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1369,
  preview: '"\\u7684\\u8868\\u8ff0\\uff0c\\u6697\\u793a\\u4e86\\u8fd9\\u90e8\\u4f5c\\u54c1\\u865a\\u5b9e\\u76f8\\u751f\\u7684\\u53d9\\u4e8b\\u7279\\u5f81\\u3002\\u503c\\u5f97\\u6ce8\\u610'
}
2025-12-02 14:26:09.100 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:09.100 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 431,
  preview: 'bb8\\u77e5\\u8fdc ...", "source": "web"}], "object": "chat.completion.chunk", "choices": [{"index": 0, "message": {"role": "assistant", "content": "<thi'
}
2025-12-02 14:26:09.100 [info] ğŸ› [streamingCompletionRequest] Processing 1 SSE events in batch #5
2025-12-02 14:26:09.100 [info] â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
2025-12-02 14:26:09.100 [info] â”‚ [perplexity-client] RAW CONTENT CHUNK #5
2025-12-02 14:26:09.100 [info] â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
2025-12-02 14:26:09.100 [info] â”‚ Stats: {
  length: 7,
  containsThinkOpen: false,
  containsThinkClose: false,
  currentFullContentLength: 0,
  isComplete: true
}
2025-12-02 14:26:09.100 [info] â”‚ Preview: æ˜¯ä¸€å€‹ç°¡å–®çš„å•
2025-12-02 14:26:09.100 [info] â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
2025-12-02 14:26:09.100 [info] [StreamProcessor] processChunk called: {
  rawChunkLength: 7,
  rawChunkPreview: 'æ˜¯ä¸€å€‹ç°¡å–®çš„å•',
  currentState: 'inside',
  tagDepth: 1,
  bufferLength: 0,
  thinkingBufferLength: 25
}
2025-12-02 14:26:09.100 [info] [StreamProcessor] ğŸ” Sliding window check: {
  foundClosingTag: false,
  lookbackBufferLength: 15,
  lookbackBufferPreview: 'çš„æ˜¯"ä½ å¥½"ï¼Œé€™æ˜¯ä¸€å€‹ç°¡å–®çš„å•',
  lookbackBufferEnd: 'çš„æ˜¯"ä½ å¥½"ï¼Œé€™æ˜¯ä¸€å€‹ç°¡å–®çš„å•',
  thinkingBufferLength: 25,
  rawChunkLength: 7,
  rawChunkPreview: 'æ˜¯ä¸€å€‹ç°¡å–®çš„å•'
}
2025-12-02 14:26:09.100 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:09.100 [info] [HYPOTHESIS B] ğŸ…±ï¸ StreamProcessor Output Analysis
2025-12-02 14:26:09.100 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:09.100 [info] [HYPOTHESIS B] Chunk Summary: {
  totalChunks: 0,
  textChunksCount: 0,
  thinkingChunksCount: 0,
  chunkTypes: []
}
2025-12-02 14:26:09.100 [info] [HYPOTHESIS B] Current State: {
  accumulatedFullContentLength: 0,
  accumulatedThinkingLength: 0,
  rawContentContainsThinkOpen: false,
  rawContentContainsThinkClose: false
}
2025-12-02 14:26:09.100 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:09.159 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1363,
  preview: 'data: {"id": "69885794-8356-4402-a15c-a13b0f554cdd", "model": "sonar-reasoning", "created": 1764685569, "usage": {"prompt_tokens": 1114, "completion_t'
}
2025-12-02 14:26:09.159 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:09.160 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1369,
  preview: 'u8aaa\\u7d05\\u6a13\\u5922\\uff1a\\u7b2c\\u4e00\\u56de\\uff0e\\u7504\\u58eb\\u96b1\\u5922\\u5e7b\\u8b58\\u901a\\u9748\\uff0c\\u8cc8\\u96e8\\u6751\\u98a8\\u5875\\u61f7\\u95a8\\'
}
2025-12-02 14:26:09.160 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:09.160 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1369,
  preview: 'c\\u5bd3\\u8a00\\u6027\\u7684\\u53d9\\u4e8b\\u65b9\\u5f0f\\u3002\\u8fd9\\u79cd\\u53d9\\u4e8b\\u7b56\\u7565\\u4e0d\\u4ec5\\u4e3a\\u6574\\u4e2a ...", "source": "web"}, {"ti'
}
2025-12-02 14:26:09.160 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:09.160 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1369,
  preview: '"\\u7684\\u8868\\u8ff0\\uff0c\\u6697\\u793a\\u4e86\\u8fd9\\u90e8\\u4f5c\\u54c1\\u865a\\u5b9e\\u76f8\\u751f\\u7684\\u53d9\\u4e8b\\u7279\\u5f81\\u3002\\u503c\\u5f97\\u6ce8\\u610'
}
2025-12-02 14:26:09.161 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:09.161 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 425,
  preview: 'bb8\\u77e5\\u8fdc ...", "source": "web"}], "object": "chat.completion.chunk", "choices": [{"index": 0, "message": {"role": "assistant", "content": "<thi'
}
2025-12-02 14:26:09.161 [info] ğŸ› [streamingCompletionRequest] Processing 1 SSE events in batch #6
2025-12-02 14:26:09.161 [info] â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
2025-12-02 14:26:09.161 [info] â”‚ [perplexity-client] RAW CONTENT CHUNK #6
2025-12-02 14:26:09.161 [info] â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
2025-12-02 14:26:09.161 [info] â”‚ Stats: {
  length: 3,
  containsThinkOpen: false,
  containsThinkClose: false,
  currentFullContentLength: 0,
  isComplete: true
}
2025-12-02 14:26:09.161 [info] â”‚ Preview: å€™ï¼Œä½†
2025-12-02 14:26:09.161 [info] â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
2025-12-02 14:26:09.162 [info] [StreamProcessor] processChunk called: {
  rawChunkLength: 3,
  rawChunkPreview: 'å€™ï¼Œä½†',
  currentState: 'inside',
  tagDepth: 1,
  bufferLength: 0,
  thinkingBufferLength: 32
}
2025-12-02 14:26:09.167 [info] [StreamProcessor] ğŸ” Sliding window check: {
  foundClosingTag: false,
  lookbackBufferLength: 11,
  lookbackBufferPreview: 'é€™æ˜¯ä¸€å€‹ç°¡å–®çš„å•å€™ï¼Œä½†',
  lookbackBufferEnd: 'é€™æ˜¯ä¸€å€‹ç°¡å–®çš„å•å€™ï¼Œä½†',
  thinkingBufferLength: 32,
  rawChunkLength: 3,
  rawChunkPreview: 'å€™ï¼Œä½†'
}
2025-12-02 14:26:09.167 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:09.167 [info] [HYPOTHESIS B] ğŸ…±ï¸ StreamProcessor Output Analysis
2025-12-02 14:26:09.167 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:09.167 [info] [HYPOTHESIS B] Chunk Summary: {
  totalChunks: 0,
  textChunksCount: 0,
  thinkingChunksCount: 0,
  chunkTypes: []
}
2025-12-02 14:26:09.167 [info] [HYPOTHESIS B] Current State: {
  accumulatedFullContentLength: 0,
  accumulatedThinkingLength: 0,
  rawContentContainsThinkOpen: false,
  rawContentContainsThinkClose: false
}
2025-12-02 14:26:09.167 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:09.226 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1363,
  preview: 'data: {"id": "69885794-8356-4402-a15c-a13b0f554cdd", "model": "sonar-reasoning", "created": 1764685569, "usage": {"prompt_tokens": 1114, "completion_t'
}
2025-12-02 14:26:09.226 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:09.227 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1369,
  preview: 'u8aaa\\u7d05\\u6a13\\u5922\\uff1a\\u7b2c\\u4e00\\u56de\\uff0e\\u7504\\u58eb\\u96b1\\u5922\\u5e7b\\u8b58\\u901a\\u9748\\uff0c\\u8cc8\\u96e8\\u6751\\u98a8\\u5875\\u61f7\\u95a8\\'
}
2025-12-02 14:26:09.227 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:09.227 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1369,
  preview: 'c\\u5bd3\\u8a00\\u6027\\u7684\\u53d9\\u4e8b\\u65b9\\u5f0f\\u3002\\u8fd9\\u79cd\\u53d9\\u4e8b\\u7b56\\u7565\\u4e0d\\u4ec5\\u4e3a\\u6574\\u4e2a ...", "source": "web"}, {"ti'
}
2025-12-02 14:26:09.227 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:09.227 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1369,
  preview: '"\\u7684\\u8868\\u8ff0\\uff0c\\u6697\\u793a\\u4e86\\u8fd9\\u90e8\\u4f5c\\u54c1\\u865a\\u5b9e\\u76f8\\u751f\\u7684\\u53d9\\u4e8b\\u7279\\u5f81\\u3002\\u503c\\u5f97\\u6ce8\\u610'
}
2025-12-02 14:26:09.227 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:09.228 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 455,
  preview: 'bb8\\u77e5\\u8fdc ...", "source": "web"}], "object": "chat.completion.chunk", "choices": [{"index": 0, "message": {"role": "assistant", "content": "<thi'
}
2025-12-02 14:26:09.228 [info] ğŸ› [streamingCompletionRequest] Processing 1 SSE events in batch #7
2025-12-02 14:26:09.228 [info] â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
2025-12-02 14:26:09.228 [info] â”‚ [perplexity-client] RAW CONTENT CHUNK #7
2025-12-02 14:26:09.228 [info] â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
2025-12-02 14:26:09.228 [info] â”‚ Stats: {
  length: 4,
  containsThinkOpen: false,
  containsThinkClose: false,
  currentFullContentLength: 0,
  isComplete: true
}
2025-12-02 14:26:09.228 [info] â”‚ Preview: æ ¹æ“šä¸Šä¸‹
2025-12-02 14:26:09.228 [info] â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
2025-12-02 14:26:09.228 [info] [StreamProcessor] processChunk called: {
  rawChunkLength: 4,
  rawChunkPreview: 'æ ¹æ“šä¸Šä¸‹',
  currentState: 'inside',
  tagDepth: 1,
  bufferLength: 0,
  thinkingBufferLength: 35
}
2025-12-02 14:26:09.229 [info] [StreamProcessor] ğŸ” Sliding window check: {
  foundClosingTag: false,
  lookbackBufferLength: 12,
  lookbackBufferPreview: 'å€‹ç°¡å–®çš„å•å€™ï¼Œä½†æ ¹æ“šä¸Šä¸‹',
  lookbackBufferEnd: 'å€‹ç°¡å–®çš„å•å€™ï¼Œä½†æ ¹æ“šä¸Šä¸‹',
  thinkingBufferLength: 35,
  rawChunkLength: 4,
  rawChunkPreview: 'æ ¹æ“šä¸Šä¸‹'
}
2025-12-02 14:26:09.229 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:09.229 [info] [HYPOTHESIS B] ğŸ…±ï¸ StreamProcessor Output Analysis
2025-12-02 14:26:09.229 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:09.229 [info] [HYPOTHESIS B] Chunk Summary: {
  totalChunks: 0,
  textChunksCount: 0,
  thinkingChunksCount: 0,
  chunkTypes: []
}
2025-12-02 14:26:09.229 [info] [HYPOTHESIS B] Current State: {
  accumulatedFullContentLength: 0,
  accumulatedThinkingLength: 0,
  rawContentContainsThinkOpen: false,
  rawContentContainsThinkClose: false
}
2025-12-02 14:26:09.229 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:09.282 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1363,
  preview: 'data: {"id": "69885794-8356-4402-a15c-a13b0f554cdd", "model": "sonar-reasoning", "created": 1764685569, "usage": {"prompt_tokens": 1114, "completion_t'
}
2025-12-02 14:26:09.282 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:09.283 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1369,
  preview: 'u8aaa\\u7d05\\u6a13\\u5922\\uff1a\\u7b2c\\u4e00\\u56de\\uff0e\\u7504\\u58eb\\u96b1\\u5922\\u5e7b\\u8b58\\u901a\\u9748\\uff0c\\u8cc8\\u96e8\\u6751\\u98a8\\u5875\\u61f7\\u95a8\\'
}
2025-12-02 14:26:09.283 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:09.283 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1369,
  preview: 'c\\u5bd3\\u8a00\\u6027\\u7684\\u53d9\\u4e8b\\u65b9\\u5f0f\\u3002\\u8fd9\\u79cd\\u53d9\\u4e8b\\u7b56\\u7565\\u4e0d\\u4ec5\\u4e3a\\u6574\\u4e2a ...", "source": "web"}, {"ti'
}
2025-12-02 14:26:09.283 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:09.283 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1369,
  preview: '"\\u7684\\u8868\\u8ff0\\uff0c\\u6697\\u793a\\u4e86\\u8fd9\\u90e8\\u4f5c\\u54c1\\u865a\\u5b9e\\u76f8\\u751f\\u7684\\u53d9\\u4e8b\\u7279\\u5f81\\u3002\\u503c\\u5f97\\u6ce8\\u610'
}
2025-12-02 14:26:09.283 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:09.284 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 479,
  preview: 'bb8\\u77e5\\u8fdc ...", "source": "web"}], "object": "chat.completion.chunk", "choices": [{"index": 0, "message": {"role": "assistant", "content": "<thi'
}
2025-12-02 14:26:09.284 [info] ğŸ› [streamingCompletionRequest] Processing 1 SSE events in batch #8
2025-12-02 14:26:09.285 [info] â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
2025-12-02 14:26:09.285 [info] â”‚ [perplexity-client] RAW CONTENT CHUNK #8
2025-12-02 14:26:09.285 [info] â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
2025-12-02 14:26:09.285 [info] â”‚ Stats: {
  length: 4,
  containsThinkOpen: false,
  containsThinkClose: false,
  currentFullContentLength: 0,
  isComplete: true
}
2025-12-02 14:26:09.285 [info] â”‚ Preview: æ–‡ï¼Œä»–å€‘
2025-12-02 14:26:09.285 [info] â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
2025-12-02 14:26:09.285 [info] [StreamProcessor] processChunk called: {
  rawChunkLength: 4,
  rawChunkPreview: 'æ–‡ï¼Œä»–å€‘',
  currentState: 'inside',
  tagDepth: 1,
  bufferLength: 0,
  thinkingBufferLength: 39
}
2025-12-02 14:26:09.285 [info] [StreamProcessor] ğŸ” Sliding window check: {
  foundClosingTag: false,
  lookbackBufferLength: 12,
  lookbackBufferPreview: 'å•å€™ï¼Œä½†æ ¹æ“šä¸Šä¸‹æ–‡ï¼Œä»–å€‘',
  lookbackBufferEnd: 'å•å€™ï¼Œä½†æ ¹æ“šä¸Šä¸‹æ–‡ï¼Œä»–å€‘',
  thinkingBufferLength: 39,
  rawChunkLength: 4,
  rawChunkPreview: 'æ–‡ï¼Œä»–å€‘'
}
2025-12-02 14:26:09.285 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:09.285 [info] [HYPOTHESIS B] ğŸ…±ï¸ StreamProcessor Output Analysis
2025-12-02 14:26:09.285 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:09.285 [info] [HYPOTHESIS B] Chunk Summary: {
  totalChunks: 0,
  textChunksCount: 0,
  thinkingChunksCount: 0,
  chunkTypes: []
}
2025-12-02 14:26:09.285 [info] [HYPOTHESIS B] Current State: {
  accumulatedFullContentLength: 0,
  accumulatedThinkingLength: 0,
  rawContentContainsThinkOpen: false,
  rawContentContainsThinkClose: false
}
2025-12-02 14:26:09.285 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:09.346 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1363,
  preview: 'data: {"id": "69885794-8356-4402-a15c-a13b0f554cdd", "model": "sonar-reasoning", "created": 1764685569, "usage": {"prompt_tokens": 1114, "completion_t'
}
2025-12-02 14:26:09.346 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:09.346 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 4229,
  preview: 'u8aaa\\u7d05\\u6a13\\u5922\\uff1a\\u7b2c\\u4e00\\u56de\\uff0e\\u7504\\u58eb\\u96b1\\u5922\\u5e7b\\u8b58\\u901a\\u9748\\uff0c\\u8cc8\\u96e8\\u6751\\u98a8\\u5875\\u61f7\\u95a8\\'
}
2025-12-02 14:26:09.346 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:09.347 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 393,
  preview: 'assistant", "content": "<think>\\n\\u9996\\u5148\\uff0c\\u6211\\u9700\\u8981\\u7406\\u89e3\\u9019\\u500b\\u554f\\u984c\\u3002\\u7528\\u6236\\u554f\\u7684\\u662f\\"\\u4f60\\'
}
2025-12-02 14:26:09.347 [info] ğŸ› [streamingCompletionRequest] Processing 1 SSE events in batch #9
2025-12-02 14:26:09.347 [info] â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
2025-12-02 14:26:09.347 [info] â”‚ [perplexity-client] RAW CONTENT CHUNK #9
2025-12-02 14:26:09.347 [info] â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
2025-12-02 14:26:09.347 [info] â”‚ Stats: {
  length: 5,
  containsThinkOpen: false,
  containsThinkClose: false,
  currentFullContentLength: 0,
  isComplete: true
}
2025-12-02 14:26:09.347 [info] â”‚ Preview: è¦æ±‚æˆ‘ä½œç‚º
2025-12-02 14:26:09.347 [info] â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
2025-12-02 14:26:09.347 [info] [StreamProcessor] processChunk called: {
  rawChunkLength: 5,
  rawChunkPreview: 'è¦æ±‚æˆ‘ä½œç‚º',
  currentState: 'inside',
  tagDepth: 1,
  bufferLength: 0,
  thinkingBufferLength: 43
}
2025-12-02 14:26:09.347 [info] [StreamProcessor] ğŸ” Sliding window check: {
  foundClosingTag: false,
  lookbackBufferLength: 13,
  lookbackBufferPreview: 'æ ¹æ“šä¸Šä¸‹æ–‡ï¼Œä»–å€‘è¦æ±‚æˆ‘ä½œç‚º',
  lookbackBufferEnd: 'æ ¹æ“šä¸Šä¸‹æ–‡ï¼Œä»–å€‘è¦æ±‚æˆ‘ä½œç‚º',
  thinkingBufferLength: 43,
  rawChunkLength: 5,
  rawChunkPreview: 'è¦æ±‚æˆ‘ä½œç‚º'
}
2025-12-02 14:26:09.347 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:09.347 [info] [HYPOTHESIS B] ğŸ…±ï¸ StreamProcessor Output Analysis
2025-12-02 14:26:09.347 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:09.348 [info] [HYPOTHESIS B] Chunk Summary: {
  totalChunks: 0,
  textChunksCount: 0,
  thinkingChunksCount: 0,
  chunkTypes: []
}
2025-12-02 14:26:09.348 [info] [HYPOTHESIS B] Current State: {
  accumulatedFullContentLength: 0,
  accumulatedThinkingLength: 0,
  rawContentContainsThinkOpen: false,
  rawContentContainsThinkClose: false
}
2025-12-02 14:26:09.348 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:09.408 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 4223,
  preview: 'data: {"id": "69885794-8356-4402-a15c-a13b0f554cdd", "model": "sonar-reasoning", "created": 1764685569, "usage": {"prompt_tokens": 1114, "completion_t'
}
2025-12-02 14:26:09.408 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:09.409 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1768,
  preview: 'u3002\\u503c\\u5f97\\u6ce8\\u610f\\u7684\\u662f\\uff0c\\u8fd9\\u79cd ...", "source": "web"}, {"title": "[PDF] \\u300a\\u77f3\\u982d\\u8a18\\u300b\\u7684\\u6558\\u8ff0\\'
}
2025-12-02 14:26:09.409 [info] ğŸ› [streamingCompletionRequest] Processing 1 SSE events in batch #10
2025-12-02 14:26:09.410 [info] â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
2025-12-02 14:26:09.410 [info] â”‚ [perplexity-client] RAW CONTENT CHUNK #10
2025-12-02 14:26:09.410 [info] â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
2025-12-02 14:26:09.410 [info] â”‚ Stats: {
  length: 3,
  containsThinkOpen: false,
  containsThinkClose: false,
  currentFullContentLength: 0,
  isComplete: true
}
2025-12-02 14:26:09.410 [info] â”‚ Preview: ä¸€ä½è³‡
2025-12-02 14:26:09.410 [info] â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
2025-12-02 14:26:09.410 [info] [StreamProcessor] processChunk called: {
  rawChunkLength: 3,
  rawChunkPreview: 'ä¸€ä½è³‡',
  currentState: 'inside',
  tagDepth: 1,
  bufferLength: 0,
  thinkingBufferLength: 48
}
2025-12-02 14:26:09.410 [info] [StreamProcessor] ğŸ” Sliding window check: {
  foundClosingTag: false,
  lookbackBufferLength: 11,
  lookbackBufferPreview: 'ï¼Œä»–å€‘è¦æ±‚æˆ‘ä½œç‚ºä¸€ä½è³‡',
  lookbackBufferEnd: 'ï¼Œä»–å€‘è¦æ±‚æˆ‘ä½œç‚ºä¸€ä½è³‡',
  thinkingBufferLength: 48,
  rawChunkLength: 3,
  rawChunkPreview: 'ä¸€ä½è³‡'
}
2025-12-02 14:26:09.410 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:09.410 [info] [HYPOTHESIS B] ğŸ…±ï¸ StreamProcessor Output Analysis
2025-12-02 14:26:09.410 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:09.410 [info] [HYPOTHESIS B] Chunk Summary: {
  totalChunks: 0,
  textChunksCount: 0,
  thinkingChunksCount: 0,
  chunkTypes: []
}
2025-12-02 14:26:09.410 [info] [HYPOTHESIS B] Current State: {
  accumulatedFullContentLength: 0,
  accumulatedThinkingLength: 0,
  rawContentContainsThinkOpen: false,
  rawContentContainsThinkClose: false
}
2025-12-02 14:26:09.410 [info] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-12-02 14:26:09.471 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 4223,
  preview: 'data: {"id": "69885794-8356-4402-a15c-a13b0f554cdd", "model": "sonar-reasoning", "created": 1764685569, "usage": {"prompt_tokens": 1114, "completion_t'
}
2025-12-02 14:26:09.471 [info] ğŸ› [streamingCompletionRequest] Received network chunk without complete SSE events
2025-12-02 14:26:09.472 [info] ğŸ› [streamingCompletionRequest] Raw chunk received: {
  length: 1834,
  preview: 'u3002\\u503c\\u5f97\\u6ce8\\u610f\\u7684\\u662f\\uff0c\\u8fd9\\u79cd ...", "source": "web"}, {"title": "[PDF] \\u300a\\u77f3\\u982d\\u8a18\\u300b\\u7684\\u6558\\u8ff0\\'
}
2025-12-02 14:26:09.472 [info] ğŸ› [streamingCompletionRequest] Processing 1 SSE events in batch #11
2025-12-02 14:26:09.472 [info] â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
2025-12-02 14:26:09.472 [info] â”‚ [perplexity-client] RAW CONTENT CHUNK #11
2025-12-02 14:26:09.472 [info] â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤

---

## å‰ç«¯ console log

[QA Module] ğŸš€ AI å•ç­”å·²è§¸ç™¼ï¼ {question: 'ä½ å¥½', timestamp: '2025-12-02T14:12:55.759Z', model: 'sonar-reasoning'}
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'user-1764683620680', role: 'user', content: 'ä½ å¥½', timestamp: Tue Dec 02 2025 21:53:40 GMT+0800         
(å°åŒ—æ¨™æº–æ™‚é–“)}
page-1a6e02859dc51289.js:1 [QA Module] Using default rendering for user message
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'ai-thinking-1764683621579', role: 'ai', content: '#', timestamp: Tue Dec 02 2025 21:53:41 GMT+0800       
(å°åŒ—æ¨™æº–æ™‚é–“), citations: Array(5), â€¦}
page-1a6e02859dc51289.js:1 [QA Module] Rendering AI message with content length: 1
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'user-1764684774245', role: 'user', content: 'ä½ å¥½', timestamp: Tue Dec 02 2025 22:12:54 GMT+0800         
(å°åŒ—æ¨™æº–æ™‚é–“)}
page-1a6e02859dc51289.js:1 [QA Module] Using default rendering for user message
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'ai-thinking-1764684775759', role: 'ai', content: '', timestamp: Tue Dec 02 2025 22:12:55 GMT+0800        
(å°åŒ—æ¨™æº–æ™‚é–“), citations: Array(0), â€¦}
page-1a6e02859dc51289.js:1 [QA Module] Rendering AI message with content length: 0
page-1a6e02859dc51289.js:1 [QA Module] Starting stream processing with timeout protection
page-1a6e02859dc51289.js:1 [QA Module] Received chunk: {size: 6227, timestamp: '2025-12-02T14:13:10.011Z'}
page-1a6e02859dc51289.js:1 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
page-1a6e02859dc51289.js:1 [HYPOTHESIS B - Frontend] ï¿½ï¿½ï¸ Chunk Received from Backend
page-1a6e02859dc51289.js:1 [HYPOTHESIS B] âš ï¸ fullContent was derived from thinking (backend fallback)
page-1a6e02859dc51289.js:1 [HYPOTHESIS B] ğŸ“ Content Previews from Backend: {fullContentPreview: '2. æ–‡æœ¬ä¾æ“šï¼š\n- 
ä½œè€…è‡ªè¿°éƒ¨åˆ†ï¼š"å› æ›¾æ­·éä¸€ç•ªå¤¢å¹»ä¹‹å¾Œï¼Œæ•…å°‡çœŸäº‹éš±å»..."\n- å¥³åª§è£œå¤©éºçŸ³çš„â€¦è§’è‰²æˆ–æƒ…ç¯€çš„é—œè¯ï¼š\n- é€šéˆå¯¶ç‰èˆ‡è³ˆå¯¶ç‰çš„é—œä¿‚\n- ç”„å£«éš±èˆ‡è³ˆé›¨æ‘ä½œç‚ºæ•˜äº‹æ¡†æ¶çš„ä½œç”¨\n- "å¥½äº†æ­Œ',    
 contentPreview: '(empty)', thinkingContentPreview: 'é¦–å…ˆï¼Œæˆ‘éœ€è¦ç†è§£é€™å€‹å•é¡Œã€‚ç”¨æˆ¶ç™¼é€äº†"ä½ å¥½"ï¼Œé€™æ˜¯ä¸€å€‹ç°¡å–®çš„å•å€™ï¼Œä½†æ ¹æ“šä¸Šä¸‹æ–‡ï¼Œä»–å€‘å¸Œæœ›æˆ‘ä½œç‚ºä¸€ä½è³‡â€¦"ä½ å¥½"æœ¬èº«ä¸     
æ˜¯ä¸€å€‹é—œæ–¼ã€Šç´…æ¨“å¤¢ã€‹çš„å…·é«”å•é¡Œï¼Œæˆ‘éœ€è¦å°‡å…¶è§£è®€ç‚ºé‚€è«‹æˆ‘é–‹å§‹å°ã€Šç´…æ¨“å¤¢ã€‹ç¬¬ä¸€å›é€²è¡Œå…¨é¢'}
page-1a6e02859dc51289.js:1 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
page-1a6e02859dc51289.js:1 [HYPOTHESIS A] ğŸ…°ï¸ Content Assignment
page-1a6e02859dc51289.js:1 [HYPOTHESIS A] ğŸ“ Content Previews {fullContentPreview: '2. æ–‡æœ¬ä¾æ“šï¼š\n- ä½œè€…è‡ªè¿°éƒ¨åˆ†ï¼š"å› æ›¾æ­·éä¸€ç•ªå¤¢å¹»ä¹‹å¾Œï¼Œæ•…å°‡çœŸäº‹éš±å»..."\n- 
å¥³åª§è£œå¤©éºçŸ³çš„â€¦ã€é“æ•™æ€æƒ³çš„é«”ç¾\n- é–‹ç¯‡çš„é è¨€æ€§å’Œè±¡å¾µæ„ç¾©\n\n4. æ­·å²æ–‡åŒ–èƒŒæ™¯ï¼š\n- æ¸…ä»£å°èªªå‰µä½œèƒŒæ™¯\n- æ›¹', contentPreview: '(empty)', thinkingContentPreview:
'é¦–å…ˆï¼Œæˆ‘éœ€è¦ç†è§£é€™å€‹å•é¡Œã€‚ç”¨æˆ¶ç™¼é€äº†"ä½ å¥½"ï¼Œé€™æ˜¯ä¸€å€‹ç°¡å–®çš„å•å€™ï¼Œä½†æ ¹æ“šä¸Šä¸‹æ–‡ï¼Œä»–å€‘å¸Œæœ›æˆ‘ä½œç‚ºä¸€ä½è³‡â€¦ï¼Œè€Œæ˜¯ä¸€å€‹æ¸¬è©¦æˆ–èµ·å§‹é»ã€‚æ ¹æ“šæŒ‡ç¤ºï¼Œæˆ‘éœ€è¦æä¾›ï¼š\n1.
ç›´æ¥å›ç­”å•é¡Œçš„æ ¸å¿ƒå…§å®¹\n2. ç›¸é—œçš„æ–‡æœ¬ä¾æ“š', updatedTextPreview: '(empty)'}
page-1a6e02859dc51289.js:1 [HYPOTHESIS C] ğŸ…²ï¸ No duplicate processing - trusting backend separation {note: 'Frontend does NOT call splitThinkingFromContent() - using     
server-provided values directly', thinkingFromServer: 1025, contentFromServer: 611}
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'user-1764683620680', role: 'user', content: 'ä½ å¥½', timestamp: Tue Dec 02 2025 21:53:40 GMT+0800         
(å°åŒ—æ¨™æº–æ™‚é–“)}
page-1a6e02859dc51289.js:1 [QA Module] Using default rendering for user message
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'ai-thinking-1764683621579', role: 'ai', content: '#', timestamp: Tue Dec 02 2025 21:53:41 GMT+0800       
(å°åŒ—æ¨™æº–æ™‚é–“), citations: Array(5), â€¦}
page-1a6e02859dc51289.js:1 [QA Module] Rendering AI message with content length: 1
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'user-1764684774245', role: 'user', content: 'ä½ å¥½', timestamp: Tue Dec 02 2025 22:12:54 GMT+0800         
(å°åŒ—æ¨™æº–æ™‚é–“)}
page-1a6e02859dc51289.js:1 [QA Module] Using default rendering for user message
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'ai-thinking-1764684775759', role: 'ai', content: '', timestamp: Tue Dec 02 2025 22:12:55 GMT+0800        
(å°åŒ—æ¨™æº–æ™‚é–“), citations: Array(5), â€¦}
page-1a6e02859dc51289.js:1 [QA Module] Rendering AI message with content length: 0
page-1a6e02859dc51289.js:1 [QA Module] Received chunk: {size: 4597, timestamp: '2025-12-02T14:13:10.049Z'}
page-1a6e02859dc51289.js:1 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
page-1a6e02859dc51289.js:1 [HYPOTHESIS B - Frontend] ğŸ…±ï¸ Chunk Received from Backend
page-1a6e02859dc51289.js:1 [HYPOTHESIS B] ğŸ“ Content Previews from Backend: {fullContentPreview: '# ã€Š', contentPreview: '# ã€Š', thinkingContentPreview: 
'é¦–å…ˆï¼Œæˆ‘éœ€è¦ç†è§£é€™å€‹å•é¡Œã€‚ç”¨æˆ¶ç™¼é€äº†"ä½ å¥½"ï¼Œé€™æ˜¯ä¸€å€‹ç°¡å–®çš„å•å€™ï¼Œä½†æ ¹æ“šä¸Šä¸‹æ–‡ï¼Œä»–å€‘å¸Œæœ›æˆ‘ä½œç‚ºä¸€ä½è³‡â€¦"ä½ å¥½"æœ¬èº«ä¸æ˜¯ä¸€å€‹é—œæ–¼ã€Šç´…æ¨“å¤¢ã€‹çš„å…·é«”å•é¡Œï¼Œæˆ‘éœ€è¦å°‡å…¶è§£è®€ç‚ºé‚€è«‹     
æˆ‘é–‹å§‹å°ã€Šç´…æ¨“å¤¢ã€‹ç¬¬ä¸€å›é€²è¡Œå…¨é¢'}
page-1a6e02859dc51289.js:1 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
page-1a6e02859dc51289.js:1 [QA Module] Stream complete - sawCompletion: true
page-1a6e02859dc51289.js:1 [QA Module] Final content - cleaned.length: 3 , thinkingLength: 1025
page-1a6e02859dc51289.js:1 [QA Module DEBUG] FINAL chunk - isComplete=true: {fullContentLength: 3, contentLength: 3, cleanedLength: 3, thinkingLength: 1025, 
cleanedPreview: '# ã€Š', â€¦}
page-1a6e02859dc51289.js:1 [QA Module] Stream complete
page-1a6e02859dc51289.js:1 [HYPOTHESIS A] ğŸ…°ï¸ Content Assignment
page-1a6e02859dc51289.js:1 [HYPOTHESIS A] ğŸ“ Content Previews {fullContentPreview: '# ã€Š', contentPreview: '# ã€Š', thinkingContentPreview: 
'é¦–å…ˆï¼Œæˆ‘éœ€è¦ç†è§£é€™å€‹å•é¡Œã€‚ç”¨æˆ¶ç™¼é€äº†"ä½ å¥½"ï¼Œé€™æ˜¯ä¸€å€‹ç°¡å–®çš„å•å€™ï¼Œä½†æ ¹æ“šä¸Šä¸‹æ–‡ï¼Œä»–å€‘å¸Œæœ›æˆ‘ä½œç‚ºä¸€ä½è³‡â€¦ï¼Œè€Œæ˜¯ä¸€å€‹æ¸¬è©¦æˆ–èµ·å§‹é»ã€‚æ ¹æ“šæŒ‡ç¤ºï¼Œæˆ‘éœ€è¦æä¾›ï¼š\n1.
ç›´æ¥å›ç­”å•é¡Œçš„æ ¸å¿ƒå…§å®¹\n2. ç›¸é—œçš„æ–‡æœ¬ä¾æ“š', updatedTextPreview: '# ã€Š'}
page-1a6e02859dc51289.js:1 [HYPOTHESIS C] ğŸ…²ï¸ No duplicate processing - trusting backend separation {note: 'Frontend does NOT call splitThinkingFromContent() - using     
server-provided values directly', thinkingFromServer: 1025, contentFromServer: 3}
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'user-1764683620680', role: 'user', content: 'ä½ å¥½', timestamp: Tue Dec 02 2025 21:53:40 GMT+0800         
(å°åŒ—æ¨™æº–æ™‚é–“)}
page-1a6e02859dc51289.js:1 [QA Module] Using default rendering for user message
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'ai-thinking-1764683621579', role: 'ai', content: '#', timestamp: Tue Dec 02 2025 21:53:41 GMT+0800       
(å°åŒ—æ¨™æº–æ™‚é–“), citations: Array(5), â€¦}
page-1a6e02859dc51289.js:1 [QA Module] Rendering AI message with content length: 1
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'user-1764684774245', role: 'user', content: 'ä½ å¥½', timestamp: Tue Dec 02 2025 22:12:54 GMT+0800         
(å°åŒ—æ¨™æº–æ™‚é–“)}
page-1a6e02859dc51289.js:1 [QA Module] Using default rendering for user message
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'ai-thinking-1764684775759', role: 'ai', content: '# ã€Š', timestamp: Tue Dec 02 2025 22:12:55 GMT+0800    
 (å°åŒ—æ¨™æº–æ™‚é–“), citations: Array(5), â€¦}
page-1a6e02859dc51289.js:1 [QA Module] Rendering AI message with content length: 3
[Violation] Forced reflow while executing JavaScript took 81ms
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'user-1764683620680', role: 'user', content: 'ä½ å¥½', timestamp: Tue Dec 02 2025 21:53:40 GMT+0800         
(å°åŒ—æ¨™æº–æ™‚é–“)}
page-1a6e02859dc51289.js:1 [QA Module] Using default rendering for user message
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'ai-thinking-1764683621579', role: 'ai', content: '#', timestamp: Tue Dec 02 2025 21:53:41 GMT+0800       
(å°åŒ—æ¨™æº–æ™‚é–“), citations: Array(5), â€¦}
page-1a6e02859dc51289.js:1 [QA Module] Rendering AI message with content length: 1
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'user-1764684774245', role: 'user', content: 'ä½ å¥½', timestamp: Tue Dec 02 2025 22:12:54 GMT+0800         
(å°åŒ—æ¨™æº–æ™‚é–“)}
page-1a6e02859dc51289.js:1 [QA Module] Using default rendering for user message
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'ai-thinking-1764684775759', role: 'ai', content: '# ã€Š', timestamp: Tue Dec 02 2025 22:12:55 GMT+0800    
 (å°åŒ—æ¨™æº–æ™‚é–“), citations: Array(5), â€¦}
page-1a6e02859dc51289.js:1 [QA Module] Rendering AI message with content length: 3
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'user-1764683620680', role: 'user', content: 'ä½ å¥½', timestamp: Tue Dec 02 2025 21:53:40 GMT+0800         
(å°åŒ—æ¨™æº–æ™‚é–“)}
page-1a6e02859dc51289.js:1 [QA Module] Using default rendering for user message
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'ai-thinking-1764683621579', role: 'ai', content: '#', timestamp: Tue Dec 02 2025 21:53:41 GMT+0800       
(å°åŒ—æ¨™æº–æ™‚é–“), citations: Array(5), â€¦}
page-1a6e02859dc51289.js:1 [QA Module] Rendering AI message with content length: 1
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'user-1764684774245', role: 'user', content: 'ä½ å¥½', timestamp: Tue Dec 02 2025 22:12:54 GMT+0800         
(å°åŒ—æ¨™æº–æ™‚é–“)}
page-1a6e02859dc51289.js:1 [QA Module] Using default rendering for user message
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'ai-thinking-1764684775759', role: 'ai', content: '# ã€Š', timestamp: Tue Dec 02 2025 22:12:55 GMT+0800    
 (å°åŒ—æ¨™æº–æ™‚é–“), citations: Array(5), â€¦}
page-1a6e02859dc51289.js:1 [QA Module] Rendering AI message with content length: 3
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'user-1764683620680', role: 'user', content: 'ä½ å¥½', timestamp: Tue Dec 02 2025 21:53:40 GMT+0800         
(å°åŒ—æ¨™æº–æ™‚é–“)}
page-1a6e02859dc51289.js:1 [QA Module] Using default rendering for user message
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'ai-thinking-1764683621579', role: 'ai', content: '#', timestamp: Tue Dec 02 2025 21:53:41 GMT+0800       
(å°åŒ—æ¨™æº–æ™‚é–“), citations: Array(5), â€¦}
page-1a6e02859dc51289.js:1 [QA Module] Rendering AI message with content length: 1
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'user-1764684774245', role: 'user', content: 'ä½ å¥½', timestamp: Tue Dec 02 2025 22:12:54 GMT+0800         
(å°åŒ—æ¨™æº–æ™‚é–“)}
page-1a6e02859dc51289.js:1 [QA Module] Using default rendering for user message
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'ai-thinking-1764684775759', role: 'ai', content: '# ã€Š', timestamp: Tue Dec 02 2025 22:12:55 GMT+0800    
 (å°åŒ—æ¨™æº–æ™‚é–“), citations: Array(5), â€¦}
page-1a6e02859dc51289.js:1 [QA Module] Rendering AI message with content length: 3
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'user-1764683620680', role: 'user', content: 'ä½ å¥½', timestamp: Tue Dec 02 2025 21:53:40 GMT+0800         
(å°åŒ—æ¨™æº–æ™‚é–“)}
page-1a6e02859dc51289.js:1 [QA Module] Using default rendering for user message
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'ai-thinking-1764683621579', role: 'ai', content: '#', timestamp: Tue Dec 02 2025 21:53:41 GMT+0800       
(å°åŒ—æ¨™æº–æ™‚é–“), citations: Array(5), â€¦}
page-1a6e02859dc51289.js:1 [QA Module] Rendering AI message with content length: 1
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'user-1764684774245', role: 'user', content: 'ä½ å¥½', timestamp: Tue Dec 02 2025 22:12:54 GMT+0800         
(å°åŒ—æ¨™æº–æ™‚é–“)}
page-1a6e02859dc51289.js:1 [QA Module] Using default rendering for user message
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'ai-thinking-1764684775759', role: 'ai', content: '# ã€Š', timestamp: Tue Dec 02 2025 22:12:55 GMT+0800    
 (å°åŒ—æ¨™æº–æ™‚é–“), citations: Array(5), â€¦}
page-1a6e02859dc51289.js:1 [QA Module] Rendering AI message with content length: 3
page-1a6e02859dc51289.js:1 [QA Module] Rendering message: {id: 'user-1764683620680', role: 'user', content: 'ä½ å¥½', timestamp: Tue Dec 02 2025 21:53:40 GMT+0800         
(å°åŒ—æ¨™æº–æ™‚é–“)}
page-1a6e02859dc51289.js:1 [QA Module] Using default rendering for user message