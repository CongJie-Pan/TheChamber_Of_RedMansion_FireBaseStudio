# pnpm Windows Optimization Configuration
# Created: 2025-10-07
# Purpose: Optimize package management for Windows development environment

# =============================================================================
# PACKAGE MANAGER SETTINGS
# =============================================================================

# Use pnpm as the primary package manager for better Windows performance
# pnpm provides: faster installs, disk space efficiency, strict dependency resolution
shamefully-hoist=false
strict-peer-dependencies=false

# =============================================================================
# WINDOWS FILESYSTEM OPTIMIZATIONS
# =============================================================================

# Optimize cache location to avoid deep nesting and path length issues
# Default cache can exceed Windows 260-char limit with nested node_modules
# store-dir=C:\\.pnpm-store

# Enable symlink support (requires Developer Mode on Windows 10/11)
# Falls back to junctions if symlinks unavailable
symlink=true

# =============================================================================
# NETWORK & PERFORMANCE SETTINGS
# =============================================================================

# Network resilience: retry failed downloads automatically
network-concurrency=16
fetch-retries=5
fetch-retry-factor=10
fetch-retry-mintimeout=10000
fetch-retry-maxtimeout=60000

# Timeout settings for slow/unreliable networks
fetch-timeout=600000

# =============================================================================
# DEPENDENCY RESOLUTION
# =============================================================================

# Enable legacy peer dependencies for compatibility with older packages
legacy-peer-deps=true

# Automatically install peer dependencies
auto-install-peers=true

# =============================================================================
# PACKAGE INSTALLATION BEHAVIOR
# =============================================================================

# Prefer offline mode when packages are cached
prefer-offline=true

# Save exact versions to prevent unexpected updates
save-exact=false

# =============================================================================
# LOGGING & AUDITING
# =============================================================================

# Disable unnecessary output to speed up installs
audit=false
fund=false

# Set log level (silent, error, warn, notice, http, timing, info, verbose, silly)
loglevel=warn

# =============================================================================
# LOCKFILE MANAGEMENT
# =============================================================================

# Ensure lockfile is always updated
lockfile=true

# Freeze lockfile in CI environments (set via environment variable)
# frozen-lockfile=true

# =============================================================================
# ENGINE STRICT
# =============================================================================

# Enforce engine compatibility
engine-strict=false

# =============================================================================
# WORKSPACE CONFIGURATION
# =============================================================================

# Enable recursive installation in workspace
recursive-install=true
